<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:FileTransferino.App.ViewModels"
        x:Class="FileTransferino.App.Views.CommandPaletteWindow"
        x:DataType="vm:CommandPaletteViewModel"
        Title="Command Palette"
        Width="600"
        Height="400"
        WindowStartupLocation="CenterOwner"
        CanResize="False"
        Background="{DynamicResource SurfaceBrush}"
        BorderBrush="{DynamicResource BorderBrush}"
        BorderThickness="1">

    <Window.Styles>
        <Style Selector="TextBox">
            <Setter Property="Background" Value="{DynamicResource BackgroundBrush}" />
            <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}" />
            <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}" />
        </Style>
        
        <Style Selector="ListBox">
            <Setter Property="Background" Value="{DynamicResource BackgroundBrush}" />
            <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}" />
        </Style>
        
        <Style Selector="ListBoxItem">
            <Setter Property="Padding" Value="12,8" />
        </Style>
        
        <Style Selector="ListBoxItem:selected /template/ ContentPresenter">
            <Setter Property="Background" Value="{DynamicResource AccentBrush}" />
        </Style>
        
        <Style Selector="ListBoxItem:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="{DynamicResource AccentHoverBrush}" />
        </Style>
        
        <Style Selector="TextBlock.commandName">
            <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}" />
            <Setter Property="FontSize" Value="14" />
        </Style>
        
        <Style Selector="TextBlock.commandCategory">
            <Setter Property="Foreground" Value="{DynamicResource TextSecondaryBrush}" />
            <Setter Property="FontSize" Value="12" />
        </Style>
    </Window.Styles>

    <DockPanel>
        <!-- Search Box -->
        <TextBox DockPanel.Dock="Top"
                 Text="{Binding SearchText}"
                 Watermark="Type to search commands..."
                 Padding="12"
                 FontSize="16"
                 BorderThickness="0,0,0,1"
                 x:Name="SearchBox" />

        <!-- Command List -->
        <ListBox ItemsSource="{Binding FilteredCommands}"
                 SelectedItem="{Binding SelectedCommand}"
                 BorderThickness="0"
                 Margin="0">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <StackPanel Spacing="4">
                        <TextBlock Text="{Binding Name}" 
                                   Classes="commandName" />
                        <TextBlock Text="{Binding Category}" 
                                   Classes="commandCategory" />
                    </StackPanel>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
    </DockPanel>
</Window>
